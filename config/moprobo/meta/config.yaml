# ==========================================
# Customer Configuration: moprobo
# File: config/moprobo/meta/config.yaml
#
# This is the SINGLE configuration file for this customer.
# All customer-specific settings are in this file.
# ==========================================

# ==========================================
# Part A: Customer Context (客户基础信息)
# ==========================================
customer_context:
  customer_id: "moprobo"
  ad_account_id: "act_88888888"
  primary_metric: "ROAS"
  lookback_days: 90

# ==========================================
# Part B: Mining Profiles (预定义策略模板)
# ==========================================
mining_profiles:
  conservative:
    base_quantile: 0.95           # Top 5%
    min_sample_size: 100
    description: "Strict mining for high-budget campaigns"

  balanced:
    base_quantile: 0.90           # Top 10%
    min_sample_size: 50
    description: "Balanced mining for typical campaigns"

  aggressive:
    base_quantile: 0.80           # Top 20%
    min_sample_size: 30
    description: "Aggressive mining for data-rich scenarios"

# 客户默认策略
default_profile: "balanced"

# ==========================================
# Part C: Platform-Level Overrides (平台级配置)
# ==========================================
platform_overrides:
  meta:
    profile: "conservative"       # Meta ads use conservative strategy
    budget_tiers:                 # Optional: budget-based overrides
      - {min_budget_cents: 50000, winner_quantile: 0.96}   # $500+ - Top 4%
      - {min_budget_cents: 20000, winner_quantile: 0.92}   # $200+ - Top 8%

  tiktok:
    profile: "balanced"
    budget_tiers:
      - {min_budget_cents: 30000, winner_quantile: 0.90}   # $300+ - Top 10%

  google:
    profile: "balanced"

# ==========================================
# Part D: Product-Level Overrides (产品级配置)
# ==========================================
product_overrides:
  "Power Station":
    default_profile: "conservative"  # High-margin product
    platform_overrides:
      meta:
        winner_quantile: 0.97       # Meta + Power Station - Top 3%
      tiktok:
        winner_quantile: 0.92       # TikTok + Power Station - Top 8%

  "MoProBo":
    default_profile: "balanced"      # Low-margin product
    platform_overrides:
      meta:
        winner_quantile: 0.88       # Meta + MoProBo - Top 12%

# ==========================================
# Part E: Platform Config (算法超参)
# ==========================================
platform_config:
  target_model: "NanoBanana_Pro"
  combinatorial_threshold: 0.8     # 仅允许共现概率 > 80% 的组合
  fidelity_mode: "CoT_Expansion"

# ==========================================
# Part F: Fidelity Config (高保真配置)
# ==========================================
fidelity_config:
  workflow_mode: "auto"              # auto | manual | multi
  enable_quality_validation: true
  min_quality_score: 0.7             # 0-1 scale

  # LLM configuration
  llm_provider: "anthropic"
  model: "claude-3-5-sonnet-20241022"
  temperature: 0.3
  max_tokens: 200
  timeout_seconds: 30

  # Caching
  enable_cache: true

# ==========================================
# Part G: Brand Guidelines (Optional - 品牌指南)
# ==========================================
brand_guidelines:
  primary_colors:
    - "#0052CC"  # MoProBo blue
    - "#00B8D9"  # Cyan accent
    - "#36B37E"  # Success green

  secondary_colors:
    - "#6554C0"  # Purple
    - "#FF991F"  # Orange
    - "#DE350B"  # Red

  typography:
    headline_font: "Helvetica Bold"
    body_font: "Helvetica Regular"
    max_characters_per_line: 30

  tone_of_voice:
    - "Professional"
    - "Friendly"
    - "Trustworthy"
    - "Direct"
    - "Action-oriented"

# ==========================================
# Part H: Sample Size Requirements (Optional - 样本量要求)
# ==========================================
min_sample_size_requirements:
  high_confidence: 100
  medium_confidence: 50
  low_confidence: 30

# ==========================================
# Part I: Auto Fallback Rules (Optional - 自动降级规则)
# ==========================================
auto_fallback_rules:
  enable_auto_fallback: true
  fallback_triggers:
    - trigger: "low_sample_size"
      threshold: 30
      action: "lower_quantile"

    - trigger: "poor_performance"
      threshold_roas: 1.0
      action: "switch_to_baseline"

  fallback_profiles:
    conservative_fallback: "balanced"
    balanced_fallback: "aggressive"

# ==========================================
# Part J: Workflow Templates (工作流模板)
# ==========================================
workflow_templates:
  ultra_realistic:
    name: "Ultra Realistic"
    priority: 1
    description: "Maximum detail for high-end products"
    quality_threshold: 0.9
    prompts:
      - "Raw photo, 8k uhd, professional product photography, sharp focus"
      - "Ultra detailed, photorealistic, studio lighting, shallow depth of field"
      - "Professional commercial photography, Hasselblad camera, 100mm macro lens"

  brand_consistent:
    name: "Brand Consistent"
    priority: 2
    description: "Maintain brand identity with style consistency"
    quality_threshold: 0.8
    prompts:
      - "Professional brand photography, consistent style guide adherence"
      - "Commercial product photography, on-brand color grading"

  performance_optimized:
    name: "Performance Optimized"
    priority: 3
    description: "Balanced quality and speed for rapid iteration"
    quality_threshold: 0.7
    prompts:
      - "Professional product photo, clean background, good lighting"
      - "Commercial photography, clear product visibility"

  lifestyle_aspirational:
    name: "Lifestyle Aspirational"
    priority: 4
    description: "Lifestyle context with aspirational elements"
    quality_threshold: 0.75
    prompts:
      - "Lifestyle product photography, aspirational context, natural lighting"
      - "Editorial style product shot, magazine quality"

  minimalist_clean:
    name: "Minimalist Clean"
    priority: 5
    description: "Minimalist aesthetic with clean composition"
    quality_threshold: 0.7
    prompts:
      - "Minimalist product photography, clean composition, negative space"
      - "Modern minimalist style, simple background, focus on product"

  fallback_standard:
    name: "Fallback Standard"
    priority: 6
    description: "Standard quality fallback when other workflows unavailable"
    quality_threshold: 0.6
    prompts:
      - "Product photography, standard quality"
      - "Professional photo of product"

# ==========================================
# Part K: Psychology Mappings (心理学映射)
# ==========================================
psychology_mappings:
  # Trust_Authority mappings
  trust_authority:
    positive_features:
      - "Marble"
      - "Studio Light"
      - "White"
    negative_features:
      - "Neon"
      - "Warm"
    emotional_keywords:
      - "professional"
      - "premium"
      - "quality"
      - "trustworthy"

  # Luxury_Aspiration mappings
  luxury_aspiration:
    positive_features:
      - "Gold"
      - "Silk"
      - "Dark Background"
    negative_features:
      - "Plastic"
      - "Minimal"
    emotional_keywords:
      - "luxury"
      - "premium"
      - "exclusive"
      - "aspirational"

  # FOMO mappings
  fomo:
    positive_features:
      - "Red"
      - "Urgent"
      - "Bold"
    negative_features:
      - "Calm"
      - "Serene"
    emotional_keywords:
      - "urgent"
      - "scarce"
      - "limited"
      - "now"

  # Social_Proof mappings
  social_proof:
    positive_features:
      - "Natural Wood"
      - "Fabric"
      - "Natural Light"
    negative_features:
      - "Sterile"
      - "Minimalist Isolated"
    emotional_keywords:
      - "popular"
      - "belonging"
      - "validated"
      - "community"

# ==========================================
# Part L: Allocator Objectives (预算分配优化目标)
# ==========================================
allocator_objectives:
  optimization_target: roas
  target_roas: 3.0
  target_ctr: 1.5
  min_roas: 1.0
  max_cpa: 15.0
  min_ctr: 0.5

  weights:
    roas: 0.60
    ctr: 0.20
    stability: 0.15
    budget_utilization: 0.05

  constraints:
    max_daily_change_pct: 20
    min_budget_utilization: 0.90
    max_budget_utilization: 1.0
    allow_overspend: false
    max_single_adset_pct: 0.40

  trade_offs:
    accept_lower_roas_for_higher_ctr: false
    accept_higher_volatility_for_higher_roas: true
    prefer_stable_over_optimal: false
    min_acceptable_roas: 1.5
    min_acceptable_ctr: 0.8

# ==========================================
# Part M: Allocator Rules (预算分配规则)
# ==========================================
allocator_rules:
  rolling_windows:
    short_window_days: 7
    long_window_days: 14

  safety_rules:
    max_daily_increase_pct: 0.19
    max_daily_decrease_pct: 0.10
    freeze_roas_threshold: 0.5
    freeze_health_threshold: 0.2
    min_budget: 1.0
    max_budget_pct_of_total: 0.4
    cold_start_days: 3
    cold_start_max_increase_pct: 0.1
    new_adset_initial_fraction: 0.5
    new_adset_max_initial_budget: 100.0

  decision_rules:
    very_low_roas_threshold: 1.0
    low_roas_threshold: 2.19
    medium_roas_threshold: 2.18
    medium_high_roas_threshold: 2.5
    high_roas_threshold: 3.67
    very_high_roas_threshold: 3.5
    excellent_roas_threshold: 3.5
    high_vs_adset_threshold: 1.2
    high_vs_campaign_threshold: 1.15
    high_vs_account_threshold: 1.1
    low_vs_adset_threshold: 0.8
    strong_rising_trend: 0.10
    strong_falling_trend: -0.18
    moderate_rising_trend: 0.05
    moderate_falling_trend: -0.05
    weak_rising_trend: 0.01
    weak_falling_trend: -0.01

# ==========================================
# Part N: Generator Parameters (受众配置生成参数)
# ==========================================
generator_parameters:
  data_sources:
    features:
      base_path: datasets/moprobo/meta/features
      files:
        ad_features: ad_features.csv
        adset_features: adset_features.csv
    raw:
      base_path: datasets/moprobo/meta/raw
      files:
        lookalike: lookalike.csv
        shopify: shopify.csv

  age_targeting:
    broad_age_range: 30
    narrow_age_range: 5
    age_min_bound: 18
    age_max_bound: 65
    test_segment_size: 20
    test_segment_mid_offset: 10
    narrow_range_expansion: 5
    broad_classification_threshold: 45

  lookalike:
    roas_threshold: 1.5

  geographic:
    max_countries: 5
    max_countries_display: 10
    recommended_countries_to_test: 3

  frequency:
    high_frequency_threshold: 3.0
    recommended_max_frequency: 2.5
    absolute_max_frequency: 4.0

# ==========================================
# Part O: Generator Recommendation Settings (推荐生成设置)
# ==========================================
generator_recommendations:
  engine:
    min_opportunity_size: medium
    min_confidence: MEDIUM
    max_recommendations_per_adset: 50

  advantage_constraints:
    min_advantage_score: 0.3
    require_statistical_significance: true
    min_sample_size: 100

  opportunity_sizing:
    high_threshold: 10000
    medium_threshold: 5000
    low_threshold: 1000

  mistake_detection:
    enabled: true
    check_low_roas: true
    check_low_ctr: true
    check_high_frequency: true
    low_roas_threshold: 1.5
    low_ctr_threshold: 0.5
    high_frequency_threshold: 4.0
# ==========================================
# Ad Generator Configuration (Consolidated)
# File: config/ad/generator/config.yaml
#
# This is the CONSOLIDATED configuration file for the Ad Generator.
# All generator-wide settings are in this single file.
#
# Previous separate files (now merged):
#   - text_templates.yaml → psychology_templates section
#   - psychology_catalog.yaml → psychology_catalog section
#
# Date: 2026-01-30
# Version: 2.0 (Consolidated)
# ==========================================

# ==========================================
# Part 1: Psychology Catalog (14 Types)
# ==========================================
# Complete psychology driver system with visual language,
# color palettes, typography, and copy patterns.

psychology_catalog:
  version: "2.0"
  total_types: 14
  types:

  # ========================================
  # CATEGORY 1: AUTHORITY & TRUST (2 types)
  # ========================================

  - psychology_id: "trust"
    full_name: "Trust & Authority"
    category: "authority_trust"
    description: "Establish credibility, expertise, and reliability"

    # Core trigger
    primary_trigger: "Believe the experts / established credibility"

    # Visual language
    colors:
      primary: "#003366"      # Deep blue - authority
      secondary: "#1E8449"    # Forest green - stability
      accent: "#5D6D7E"       # Professional gray
      palette_type: "cool_muted"

    typography:
      headline_font: "Serif_Bold"
      body_font: "Serif_Regular"
      cta_font: "Sans_Medium"
      letter_spacing: 0.02     # Slight expansion = elegance
      case: "title_case"       # Not all caps = refined

    layout:
      position: "centered_symmetrical"
      alignment: "center"
      whitespace_ratio: 0.4    # 40% whitespace = luxury
      balance: "horizontal_symmetry"

    shapes:
      primary: "rectangles"    # Stable, grounded
      corners: "slight_round"
      borders: "thin_elegant"

    effects:
      shadow: "subtle_drop"
      animation: "gentle_fade"
      overlay: false

    cta_style:
      shape: "underline"       # Not aggressive
      prominence: "low_key"

    copy_patterns:
      - "Expert recommended"
      - "Trusted by {number} professionals"
      - "Clinically proven"
      - "Award winning"
      - "{years} years of excellence"

    visual_elements:
      - certification_badges
      - trust_marks
      - professional_photo_style

    use_cases:
      - luxury_products
      - professional_services
      - healthcare
      - financial_services
      - b2b_software

  - psychology_id: "achievement"
    full_name: "Achievement & Progress"
    category: "authority_trust"
    description: "Celebrate progress, accomplishment, and mastery"

    primary_trigger: "You've earned this / Level up!"

    colors:
      primary: "#27AE60"      # Success green
      secondary: "#F39C12"    # Trophy gold
      accent: "#1ABC9C"       # Achievement teal
      palette_type: "vibrant_positive"

    typography:
      headline_font: "Sans_Bold"
      body_font: "Sans_Regular"
      cta_font: "Sans_Black"
      letter_spacing: 0.0
      case: "title_case"

    layout:
      position: "centered"
      alignment: "center"
      whitespace_ratio: 0.25
      balance: "vertical_progression"

    shapes:
      primary: "progress_bars"
      corners: "rounded"
      borders: "medium"

    effects:
      shadow: "moderate"
      animation: "celebration_confetti"
      overlay: false

    cta_style:
      shape: "pill_solid"
      prominence: "high"

    copy_patterns:
      - "You're {percentage}% there!"
      - "Level up!"
      - "Milestone unlocked"
      - "Keep going!"
      - "You've earned {reward}"

    visual_elements:
      - progress_bar_filled
      - trophy_icon
      - medal_badge
      - milestone_markers
      - confetti_burst

    use_cases:
      - fitness_apps
      - learning_platforms
      - gamification
      - loyalty_programs
      - habit_tracking

  # ========================================
  # CATEGORY 2: URGENCY & SCARCITY (3 types)
  # ========================================

  - psychology_id: "fomo"
    full_name: "Fear Of Missing Out"
    category: "urgency_scarcity"
    description: "Create urgency through social pressure and scarcity"

    primary_trigger: "Everyone else is doing this / Don't be left out"

    colors:
      primary: "#E74C3C"      # Alert red
      secondary: "#FFCC00"    # Warning yellow
      accent: "#C0392B"       # Dark red
      palette_type: "high_contrast_warm"

    typography:
      headline_font: "Sans_Black"
      body_font: "Sans_Bold"
      cta_font: "Impact"
      letter_spacing: -0.03    # Condensed = intense
      case: "uppercase"        # All caps = urgency

    layout:
      position: "top_right"    # Eye-catching corner
      alignment: "left"
      whitespace_ratio: 0.1    # Tight = urgent
      balance: "asymmetric"
      rotation: -3             # Tilted = sticker effect

    shapes:
      primary: "angular_sharp"
      corners: "sharp"
      borders: "thick_bold"

    effects:
      shadow: "bold_drop"
      animation: "shake"
      overlay: false

    cta_style:
      shape: "pill_oversized"
      prominence: "maximum"

    copy_patterns:
      - "Limited time!"
      - "While supplies last"
      - "Don't miss out!"
      - "Almost gone!"
      - "{number} people viewing this"

    visual_elements:
      - urgency_badge_pulsing
      - countdown_timer
      - hot_label
      - flame_icon
      - crowd_indicator

    use_cases:
      - flash_sales
      - event_tickets
      - limited_editions
      - travel_deals
      - product_launches

  - psychology_id: "scarcity"
    full_name: "Scarcity & Limited Access"
    category: "urgency_scarcity"
    description: "Emphasize limited quantity or time"

    primary_trigger: "Running out soon / Act now or lose opportunity"

    colors:
      primary: "#D35400"      # Pumpkin orange
      secondary: "#7F8C8D"    # Running-out gray
      accent: "#E67E22"       # Bright orange
      palette_type: "warning_tones"

    typography:
      headline_font: "Sans_Bold"
      body_font: "Sans_Medium"
      cta_font: "Sans_Bold"
      letter_spacing: -0.01
      case: "title_case"

    layout:
      position: "centered"
      alignment: "center"
      whitespace_ratio: 0.2
      balance: "focused_center"

    shapes:
      primary: "circles_countdown"
      corners: "fully_rounded"
      borders: "dashed"

    effects:
      shadow: "moderate"
      animation: "countdown_ticking"
      overlay: false

    cta_style:
      shape: "pill_solid"
      prominence: "high"

    copy_patterns:
      - "Only {number} left!"
      - "Ends in {hours}h {minutes}m"
      - "Selling fast!"
      - "{percentage}% claimed"
      - "Reserve yours now"

    visual_elements:
      - countdown_timer_digital
      - stock_level_bar
      - x_left_badge
      - decreasing_progress_bar
      - low_stock_indicator

    use_cases:
      - e_commerce
      - ticket_sales
      - inventory_clearance
      - limited_releases
      - appointment_booking

  - psychology_id: "loss_aversion"
    full_name: "Loss Aversion"
    category: "urgency_scarcity"
    description: "Frame offer as avoiding loss rather than gaining benefit"

    primary_trigger: "Don't lose what you could have / Avoid regret"

    colors:
      primary: "#C0392B"      # Warning red
      secondary: "#2C3E50"    # Dark contrast
      accent: "#E74C3C"       # Alert red
      palette_type: "high_contrast_dark"

    typography:
      headline_font: "Sans_Heavy"
      body_font: "Sans_Bold"
      cta_font: "Sans_Black"
      letter_spacing: 0.0
      case: "sentence_case"    # More threatening in sentence

    layout:
      position: "top_center"
      alignment: "center"
      whitespace_ratio: 0.15
      balance: "before_after_comparison"

    shapes:
      primary: "comparison_boxes"
      corners: "sharp"
      borders: "strikethrough"

    effects:
      shadow: "dramatic"
      animation: "x_mark_appearing"
      overlay: "dark_vignette"

    cta_style:
      shape: "rectangle_bold"
      prominence: "very_high"

    copy_patterns:
      - "Don't lose ${savings}"
      - "Last chance to save ${amount}"
      - "You're missing out on ${value}"
      - "Stop wasting ${amount}/month"
      - "Protect your investment"

    visual_elements:
      - strikethrough_price
      - x_closing_marks
      - warning_triangle
      - before_after_comparison
      - loss_calculator

    use_cases:
      - insurance
      - subscriptions
      - financial_products
      - energy_saving
      - security_products

  # ========================================
  # CATEGORY 3: DESIRE & ASPIRATION (3 types)
  # ========================================

  - psychology_id: "aspiration"
    full_name: "Aspiration & Self-Improvement"
    category: "desire_aspiration"
    description: "Appeal to desire for personal growth and future success"

    primary_trigger: "Become your best self / Reach your dreams"

    colors:
      primary: "#9B59B6"      # Purple (dreams)
      secondary: "#3498DB"    # Sky blue (possibility)
      accent: "#E8DAEF"       # Light lavender
      palette_type: "ethereal_gradient"

    typography:
      headline_font: "Sans_Light_Expanded"
      body_font: "Sans_Light"
      cta_font: "Sans_Medium"
      letter_spacing: 0.05     # Expanded = open, airy
      case: "sentence_case"

    layout:
      position: "bottom_center"
      alignment: "center"
      whitespace_ratio: 0.5    # Very spacious
      balance: "upward_motion"

    shapes:
      primary: "upward_arrows"
      corners: "fully_rounded"
      borders: "none"

    effects:
      shadow: "soft_glow"
      animation: "float_upward"
      overlay: "light_gradient"

    cta_style:
      shape: "pill_soft"
      prominence: "moderate"

    copy_patterns:
      - "Become your best self"
      - "The new you starts here"
      - "Unlock your potential"
      - "Reach for the stars"
      - "Your future self will thank you"

    visual_elements:
      - upward_arrows
      - horizon_line
      - silhouette_progression
      - light_rays
      - mountain_peak_metaphor

    use_cases:
      - fitness
      - education
      - self_improvement
      - beauty
      - life_coaching

  - psychology_id: "exclusivity"
    full_name: "Exclusivity & VIP Status"
    category: "desire_aspiration"
    description: "Create feeling of special access and elite status"

    primary_trigger: "Special access / You're among the chosen few"

    colors:
      primary: "#D4AF37"      # Gold
      secondary: "#1E1E1E"    # Black
      accent: "#F4D03F"       # Bright gold
      palette_type: "luxury_metallic"

    typography:
      headline_font: "Serif_Elegant"
      body_font: "Serif_Regular"
      cta_font: "Sans_Luxury"
      letter_spacing: 0.03
      case: "title_case"

    layout:
      position: "centered"
      alignment: "center"
      whitespace_ratio: 0.45
      balance: "symmetrical_premium"

    shapes:
      primary: "ornate_frames"
      corners: "decorative"
      borders: "gold_double_line"

    effects:
      shadow: "metallic_shimmer"
      animation: "subtle_shine"
      overlay: false

    cta_style:
      shape: "rectangle_premium"
      prominence: "elegant"

    copy_patterns:
      - "Invite only"
      - "VIP access"
      - "Members only"
      - "Exclusive access"
      - "You're on the list"

    visual_elements:
      - gold_border_frame
      - invitation_envelope
      - key_icon
      - lock_symbol_with_key
      - velvet_rope_metaphor

    use_cases:
      - luxury_goods
      - membership_programs
      - vip_services
      - exclusive_events
      - premium_subscriptions

  - psychology_id: "curiosity"
    full_name: "Curiosity & Discovery"
    category: "desire_aspiration"
    description: "Spark intrigue and desire to learn more"

    primary_trigger: "What's this? / I want to know more"

    colors:
      primary: "#9B59B6"      # Wonder purple
      secondary: "#5D6D7E"    # Mysterious gray
      accent: "#BB8FCE"       # Light purple
      palette_type: "mysterious_cool"

    typography:
      headline_font: "Sans_Light"
      body_font: "Sans_Regular"
      cta_font: "Sans_Medium"
      letter_spacing: 0.04
      case: "sentence_case_with_..."  # Trail off

    layout:
      position: "smart_void"  # Find empty space
      alignment: "dynamic"
      whitespace_ratio: 0.35
      balance: "asymmetric_intriguing"

    shapes:
      primary: "question_marks"
      corners: "rounded"
      borders: "dotted"

    effects:
      shadow: "soft"
      animation: "gentle_pulse"
      overlay: "gradient_fade"

    cta_style:
      shape: "pill_rounded"
      prominence: "moderate"

    copy_patterns:
      - "Discover the secret..."
      - "You won't believe..."
      - "What happens next will surprise you"
      - "Unlock the mystery"
      - "See what's inside"

    visual_elements:
      - question_mark_icon
      - magnifying_glass
      - partially_obscured_view
      - click_to_reveal
      - treasure_chest_metaphor

    use_cases:
      - new_product_launches
      - storytelling_campaigns
      - educational_content
      - mystery_shopping
      - teaser_campaigns

  # ========================================
  # CATEGORY 4: SOCIAL PROOF (2 types)
  # ========================================

  - psychology_id: "social_proof"
    full_name: "Social Proof & Validation"
    category: "social_proof"
    description: "Leverage bandwagon effect and validation from others"

    primary_trigger: "Everyone else is doing it / Join the crowd"

    colors:
      primary: "#27AE60"      # Social green
      secondary: "#F39C12"    # Star gold
      accent: "#16A085"       # Teal
      palette_type: "positive_warm"

    typography:
      headline_font: "Sans_Medium"
      body_font: "Sans_Regular"
      cta_font: "Sans_SemiBold"
      letter_spacing: 0.0
      case: "title_case"

    layout:
      position: "bottom_left"
      alignment: "left"
      whitespace_ratio: 0.25
      balance: "community_clustered"

    shapes:
      primary: "user_avatars_circles"
      corners: "fully_rounded"
      borders: "medium"

    effects:
      shadow: "soft"
      animation: "gentle_float"
      overlay: false

    cta_style:
      shape: "rectangle_solid"
      prominence: "high"

    copy_patterns:
      - "Join {number}+ happy customers"
      - "Best seller"
      - "Top rated"
      - "Trending now"
      - "{number} people bought this today"

    visual_elements:
      - star_rating
      - user_avatar_grid
      - verified_checkmark
      - customer_count
      - testimonials_carousel

    use_cases:
      - e_commerce
      - marketplaces
      - app_downloads
      - reviews_and_ratings
      - testimonials

  - psychology_id: "reciprocity"
    full_name: "Reciprocity & Gift Giving"
    category: "social_proof"
    description: "Trigger obligation to return favor"

    primary_trigger: "Get something free / We give, you give back"

    colors:
      primary: "#E67E22"      # Warm orange
      secondary: "#EC7063"    # Ribbon red
      accent: "#F5B041"       # Gift gold
      palette_type: "warm_festive"

    typography:
      headline_font: "Sans_Friendly_Rounded"
      body_font: "Sans_Regular"
      cta_font: "Sans_Medium"
      letter_spacing: 0.01
      case: "friendly_sentence"

    layout:
      position: "centered"
      alignment: "center"
      whitespace_ratio: 0.3
      balance: "gift_presentation"

    shapes:
      primary: "gift_boxes"
      corners: "rounded"
      borders: "ribbon_decorated"

    effects:
      shadow: "soft"
      animation: "ribbon_untie"
      overlay: false

    cta_style:
      shape: "pill_gift_wrapped"
      prominence: "high"

    copy_patterns:
      - "Free gift inside"
      - "Get {bonus} when you buy {product}"
      - "Bonus worth ${value}"
      - "We'll give you X, you give Y a try"
      - "complimentary"

    visual_elements:
      - gift_box_icon
      - ribbon_bow
      - free_badge
      - bonus_tag
      - wrapping_paper_pattern

    use_cases:
      - retail_promotions
      - bundling
      - free_trials
      - gift_with_purchase
      - referral_programs

  # ========================================
  # CATEGORY 5: EMOTIONAL STATES (4 types)
  # ========================================

  - psychology_id: "nostalgia"
    full_name: "Nostalgia & Retro"
    category: "emotional_states"
    description: "Evoke warm memories and sentimental feelings"

    primary_trigger: "Remember when? / The good old days"

    colors:
      primary: "#8B4513"      # Saddle brown (sepia)
      secondary: "#D4AC6E"    # Vintage cream
      accent: "#A0522D"       # Sienna
      palette_type: "vintage_warm"
      filter: "sepia_tone"

    typography:
      headline_font: "Typewriter_Retro"
      body_font: "Serif_Old_Style"
      cta_font: "Sans_Vintage"
      letter_spacing: 0.02
      case: "title_case"

    layout:
      position: "centered"
      alignment: "center"
      whitespace_ratio: 0.3
      balance: "polaroid_frame"

    shapes:
      primary: "polaroid_frames"
      corners: "worn_torn"
      borders: "rough_edge"

    effects:
      shadow: "vintage_fade"
      animation: "film_grain"
      overlay: "sepia_filter"
      texture: "paper_grain"

    cta_style:
      shape: "rectangle_vintage"
      prominence: "subtle"

    copy_patterns:
      - "Remember when..."
      - "Just like the good old days"
      - "Classic {product}"
      - "Timeless quality"
      - "Bringing back {era}"

    visual_elements:
      - polaroid_frame
      - film_grain_texture
      - vintage_badge
      - retro_illustrations
      - era_specific_icons

    use_cases:
      - heritage_brands
      - anniversaries
      - retro_product_lines
      - storytelling
      - emotional_branding

  - psychology_id: "comfort"
    full_name: "Comfort & Safety"
    category: "emotional_states"
    description: "Create feeling of relaxation and security"

    primary_trigger: "Relax / You're safe here"

    colors:
      primary: "#AED6F1"      # Soft blue
      secondary: "#ABEBC6"    # Gentle green
      accent: "#F9E79F"       # Warm yellow
      palette_type: "pastel_soft"

    typography:
      headline_font: "Sans_Rounded_Light"
      body_font: "Sans_Rounded_Regular"
      cta_font: "Sans_Rounded_Medium"
      letter_spacing: 0.02
      case: "lowercase_friendly"  # Friendly lowercase

    layout:
      position: "centered"
      alignment: "center"
      whitespace_ratio: 0.5
      balance: "cocooned_safe"

    shapes:
      primary: "circles_soft"
      corners: "very_rounded"  # Radius 20px+
      borders: "none_or_soft"

    effects:
      shadow: "very_soft"
      animation: "gentle_breathe"
      overlay: "light_gradient"

    cta_style:
      shape: "pill_very_rounded"
      prominence: "gentle"

    copy_patterns:
      - "Relax and unwind"
      - "Your safe space"
      - "Comfort guaranteed"
      - "Peace of mind"
      - "Take it easy"

    visual_elements:
      - soft_cloud_shapes
      - hugging_illustrations
      - pillow_metaphor
      - warm_lighting
      - cozy_textures

    use_cases:
      - wellness_products
      - home_comfort
      - baby_products
      - healthcare
      - insurance

  - psychology_id: "excitement"
    full_name: "Excitement & Celebration"
    category: "emotional_states"
    description: "Generate high energy and celebratory feelings"

    primary_trigger: "Woohoo! / Let's celebrate!"

    colors:
      primary: "#FF6B6B"      # Vibrant red-pink
      secondary: "#4ECDC4"    # Bright teal
      accent: "#FFE66D"       # Celebration yellow
      palette_type: "rainbow_vibrant"
      saturation: "maximum"

    typography:
      headline_font: "Sans_Bold_Playful"
      body_font: "Sans_Bold"
      cta_font: "Display_Bold"
      letter_spacing: 0.0
      case: "uppercase_exclamations"

    layout:
      position: "dynamic_diagonal"
      alignment: "center"
      whitespace_ratio: 0.15
      balance: "high_energy"

    shapes:
      primary: "burst_star_shapes"
      corners: "varied"
      borders: "thick_colorful"

    effects:
      shadow: "colorful"
      animation: "bounce_celebrate"
      overlay: "confetti_pattern"

    cta_style:
      shape: "burst_star"
      prominence: "maximum"

    copy_patterns:
      - "Let's celebrate!"
      - "Party time!"
      - "Woohoo!"
      - "Exciting news!"
      - "Big announcement!"

    visual_elements:
      - confetti_burst
      - streamers
      - balloon_icons
      - firework_metaphors
      - exclamation_marks

    use_cases:
      - celebrations
      - party_supplies
      - festivals
      - product_launches
      - special_occasions

  - psychology_id: "calm"
    full_name: "Calm & Clarity"
    category: "emotional_states"
    description: "Promote peace, simplicity, and mental clarity"

    primary_trigger: "Breathe / Find your peace"

    colors:
      primary: "#85C1E9"      # Sky blue
      secondary: "#76D7C4"    # Mint
      accent: "#D5F4E6"       # Pale green
      palette_type: "pastel_cool"
      saturation: "low"

    typography:
      headline_font: "Sans_Light_Thin"
      body_font: "Sans_Light"
      cta_font: "Sans_ExtraLight"
      letter_spacing: 0.06     # Very expanded
      case: "sentence_case_soft"

    layout:
      position: "centered"
      alignment: "center"
      whitespace_ratio: 0.6    # Very spacious
      balance: "minimal_centered"

    shapes:
      primary: "gentle_waves"
      corners: "softly_rounded"
      borders: "hairline"

    effects:
      shadow: "none"
      animation: "very_gentle_float"
      overlay: false

    cta_style:
      shape: "underline_minimal"
      prominence: "very_subtle"

    copy_patterns:
      - "Just breathe"
      - "Find your calm"
      - "Simplicity itself"
      - "Peaceful living"
      - "Clear your mind"

    visual_elements:
      - wave_patterns
      - ripples
      - minimal_lines
      - breathing_exercise_visuals
      - negative_space_emphasis

    use_cases:
      - meditation_apps
      - spa_services
      - minimal_products
      - zen_lifestyle
      - mental_health

# ==========================================
# Part 2: Psychology-Driven Text Templates
# ==========================================
# Psychology-driven text overlay templates.
# Each template is associated with a psychology_driver type and
# specifies fonts, colors, layout, and effects.

psychology_templates:
  # ========================================
  # PSYCHOLOGY-DRIVEN TEMPLATES (V1.9)
  # ========================================

  # Psychology: TRUST (权威/信任模式)
  # Use for: High-end products, professional services, luxury goods
  # Psychological trigger: Authority, credibility, elegance
  - template_id: "trust_authority"
    display_name: "Trust: Authority & Elegance"
    description: "Psychology-driven template for trust and authority. Uses serif fonts, deep blue colors, centered symmetrical layout."
    psychology_driver: "trust"

    layout:
      position: "Bottom_Center"
      margin_y: 80
      margin_x: 0  # Centered
      alignment: "center"  # Symmetrical for stability
      whitespace_ratio: 0.4  # 40% whitespace = luxury

    typography:
      headline:
        font_family: "Serif_Bold"  # Serif = traditional, trustworthy
        font_size: 48
        line_height: 1.2
        letter_spacing: 0.02  # Slight expansion = elegance

      sub_text:
        font_family: "Serif_Regular"
        font_size: 32
        line_height: 1.3

      cta:
        font_family: "Sans_Medium"  # Subtle contrast
        font_size: 24
        padding_x: 40
        padding_y: 16
        corner_radius: 4

    style:
      # Color psychology for trust
      font_color_logic: "Deep_Blue"  # Deep blue (#003366) = trust, authority
      fallback_color: "#003366"  # Deep blue
      cta_shape: "Rectangle_Solid"  # Professional rectangle
      cta_bg_color: "Transparent"  # Uses brand_color from campaign_content
      cta_color: "#003366"  # Match headline

      # Refined effects
      shadow_effect: false  # Clean, no distractions
      overlay_effect: false

  # Psychology: FOMO (紧迫/促销模式)
  # Use for: Limited-time offers, flash sales, high-urgency campaigns
  # Psychological trigger: Fear of missing out, scarcity, urgency
  - template_id: "fomo_urgency"
    display_name: "FOMO: Urgency & Scarcity"
    description: "Psychology-driven template for urgency and conversion. Uses heavy fonts, red/yellow colors, tilted layout."
    psychology_driver: "fomo"

    layout:
      position: "Top_Right"  # Eye-catching corner
      margin_y: 40
      margin_x: 40
      alignment: "left"
      rotation_angle: -3  # Slight tilt = urgency, sticker effect

    typography:
      headline:
        font_family: "Sans_Black"  # Heavy = attention-grabbing
        font_size: 64  # Oversized
        line_height: 1.0  # Tight = urgent
        letter_spacing: -0.03  # Condensed = intense

      sub_text:
        font_family: "Sans_Bold"
        font_size: 36
        line_height: 1.1
        text_transform: "uppercase"  # All caps = shouting

      cta:
        font_family: "Impact"  # Maximum urgency
        font_size: 32
        padding_x: 56
        padding_y: 24
        corner_radius: 12  # Rounded pill

    style:
      # Color psychology for urgency
      font_color_logic: "Fixed_White"  # Always white for contrast
      cta_shape: "Pill_Solid"
      cta_bg_color: "Alert_Red"  # Red = urgency
      fallback_color: "#FF0000"

      # Badge effect
      badge_effect: true
      badge_color: "#FFCC00"  # Yellow highlight
      badge_text: "LIMITED"
      badge_position: "top_right"

      # Bold effects
      shadow_effect: true
      shadow_offset: [4, 6]
      shadow_blur: 12
      shadow_color: "rgba(0,0,0,0.4)"

      # Urgency overlay
      overlay_effect: false

  # Psychology: CURIOSITY (好奇/探索模式)
  # Use for: New product launches, educational content, storytelling
  # Psychological trigger: Curiosity, discovery, engagement
  - template_id: "curiosity_discovery"
    display_name: "Curiosity: Discovery & Wonder"
    description: "Psychology-driven template for curiosity and exploration. Uses light fonts, purple colors, smart void-finding."
    psychology_driver: "curiosity"

    layout:
      position: "Smart_Void"  # Find empty space = discovery
      min_void_area: 0.2
      fallback_position: "Bottom_Center"
      margin_y: 60

    typography:
      headline:
        font_family: "Sans_Light"  # Light = inviting
        font_size: 52
        line_height: 1.3
        letter_spacing: 0.05  # Expanded = open, airy

      sub_text:
        font_family: "Sans_Regular"
        font_size: 28
        line_height: 1.4

      cta:
        font_family: "Sans_Medium"
        font_size: 24
        padding_x: 36
        padding_y: 14
        corner_radius: 20  # Soft rounded

    style:
      font_color_logic: "Auto_Contrast"  # Adapt to background
      cta_shape: "Pill_Solid"
      cta_bg_color: "Wonder_Purple"  # Purple = creativity, mystery
      fallback_color: "#9B59B6"

      shadow_effect: false
      overlay_effect: false

  # ========================================
  # LEGACY TEMPLATES (Backward Compatibility)
  # ========================================

  # Template A: Luxury Minimal (极简奢侈风) - NOW MAPPED TO "trust"
  - template_id: "luxury_minimal"
    display_name: "Luxury Minimal"
    description: "Clean, high-end aesthetic with subtle elements"
    psychology_driver: "trust"  # Maps to trust mode

    layout:
      position: "Bottom_Center"
      margin_y: 80
      margin_x: 0

    typography:
      headline:
        font_family: "Serif_Bold"
        font_size: 48
        line_height: 1.2

      sub_text:
        font_family: "Serif_Regular"
        font_size: 32
        line_height: 1.3

      cta:
        font_family: "Sans_Medium"
        font_size: 24
        padding_x: 40
        padding_y: 16

    style:
      font_color_logic: "Auto_Contrast"
      cta_shape: "Underline"
      cta_bg_color: "Transparent"
      shadow_effect: false

# ==========================================
# Part 3: Modifier System (for template composition)
# ==========================================

modifiers:
  # Intensity Levels (4 levels)
  intensity:
    - level: "calm"
      animation_speed: "very_slow"
      color_saturation: "muted"
      urgency_indicators: false
      shadow_intensity: "barely_visible"

    - level: "moderate"
      animation_speed: "slow"
      color_saturation: "standard"
      urgency_indicators: "minimal"
      shadow_intensity: "subtle"

    - level: "high"
      animation_speed: "normal"
      color_saturation: "vibrant"
      urgency_indicators: "present"
      shadow_intensity: "moderate"

    - level: "urgent"
      animation_speed: "fast"
      color_saturation: "maximum"
      urgency_indicators: "prominent"
      shadow_intensity: "bold"

  # Visual Complexity (3 levels)
  complexity:
    - level: "minimal"
      element_count: "3-5"
      information_density: "low"
      cognitive_load: "easy"

    - level: "standard"
      element_count: "6-10"
      information_density: "medium"
      cognitive_load: "moderate"

    - level: "rich"
      element_count: "11-20"
      information_density: "high"
      cognitive_load: "high"

# ==========================================
# Part 4: Template Composition Rules
# ==========================================

template_composition:
  # Template naming: {psychology}_{intensity}_{complexity}
  # Example: fomo_urgent_minimal, trust_calm_standard

  default_intensity:
    trust: "calm"
    achievement: "high"
    fomo: "urgent"
    scarcity: "high"
    loss_aversion: "high"
    aspiration: "moderate"
    exclusivity: "calm"
    curiosity: "moderate"
    social_proof: "moderate"
    reciprocity: "moderate"
    nostalgia: "calm"
    comfort: "calm"
    excitement: "high"
    calm: "calm"

  default_complexity:
    trust: "minimal"
    achievement: "standard"
    fomo: "minimal"
    scarcity: "minimal"
    loss_aversion: "standard"
    aspiration: "minimal"
    exclusivity: "minimal"
    curiosity: "minimal"
    social_proof: "standard"
    reciprocity: "standard"
    nostalgia: "minimal"
    comfort: "minimal"
    excitement: "minimal"
    calm: "minimal"

# ==========================================
# Part 5: Generator Configuration
# ==========================================

generator_settings:
  # Model settings
  image_model: "dall-e-3"
  image_size: "1024x1024"
  image_quality: "standard"

  # Generation parameters
  num_candidates: 4
  temperature: 1.0

  # Retry settings
  max_retries: 3
  retry_delay_seconds: 1

# ==========================================
# Part 6: Text Overlay Settings
# ==========================================

text_overlay_settings:
  # Font configuration (references system fonts)
  font_families:
    - "Serif_Bold"
    - "Serif_Regular"
    - "Sans_Light"
    - "Sans_Regular"
    - "Sans_Medium"
    - "Sans_Bold"
    - "Sans_Black"
    - "Impact"

  # Color mapping
  color_map:
    Deep_Blue: "#003366"
    Alert_Red: "#E74C3C"
    Wonder_Purple: "#9B59B6"
    Success_Green: "#27AE60"

  # Default fallback values
  defaults:
    font_color_logic: "Auto_Contrast"
    fallback_color: "#000000"
    cta_shape: "Rectangle_Solid"
    cta_bg_color: "Transparent"
    shadow_effect: false
    overlay_effect: false

# ==========================================
# Part 7: Quality Validation Settings
# ==========================================

quality_validation:
  enabled: true
  min_quality_score: 0.7

  # Validation checks
  checks:
    - name: "text_readability"
      enabled: true
      threshold: 0.8

    - name: "color_contrast"
      enabled: true
      threshold: 4.5  # WCAG AA standard

    - name: "composition_balance"
      enabled: true
      threshold: 0.7

    - name: "brand_consistency"
      enabled: true
      threshold: 0.75

# ==========================================
# Part 8: Integration Settings
# ==========================================

integration:
  # Ad Miner integration
  miner:
    blueprint_path_key: "formula_path"
    psychology_driver_key: "psychology_driver"

  # Ad Reviewer integration
  reviewer:
    audit_report_key: "audit_report"
    pass_threshold: 0.7
