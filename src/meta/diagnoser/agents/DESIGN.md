# Diagnoser AI Agent Team - æ•´ä½“è®¾è®¡

## ç³»ç»Ÿæ¦‚è§ˆ

Diagnoser AI Agent Teamæ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„detectorä¼˜åŒ–ç³»ç»Ÿï¼Œé€šè¿‡5ä¸ªä¸“é—¨åŒ–çš„AI AgentsååŒå·¥ä½œï¼Œå®ç°7x24å°æ—¶è‡ªåŠ¨åŒ–çš„ç®—æ³•è¿›åŒ–é—­ç¯ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Diagnoser AI Agent Team                      â”‚
â”‚                 (è‡ªåŠ¨åŒ–Detectorä¼˜åŒ–ç³»ç»Ÿ)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚               â”‚               â”‚
        â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
        â”‚ Diagnoser â”‚  â”‚ Evaluationâ”‚  â”‚  Memory   â”‚
        â”‚ Detectors â”‚  â”‚  System   â”‚  â”‚  System   â”‚
        â”‚ (3ä¸ª)     â”‚  â”‚ (Scripts) â”‚  â”‚ (JSON)    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ ¸å¿ƒç›®æ ‡

**ä¸»è¦ç›®æ ‡**: é›¶äººå·¥å¹²é¢„çš„è‡ªåŠ¨åŒ–detectorä¼˜åŒ–

- **è‡ªåŠ¨åˆ†æ**: åˆ†ædetectoræ€§èƒ½æŒ‡æ ‡ï¼Œè¯†åˆ«ä¼˜åŒ–æœºä¼š
- **è‡ªåŠ¨å®éªŒ**: ç”Ÿæˆä¼˜åŒ–æ–¹æ¡ˆï¼Œä¿®æ”¹å‚æ•°ï¼Œè¿è¡Œè¯„ä¼°
- **è‡ªåŠ¨éªŒè¯**: éªŒè¯æ”¹è¿›æ•ˆæœï¼Œæ£€æµ‹å‰¯ä½œç”¨
- **è‡ªåŠ¨å­¦ä¹ **: å½’æ¡£å®éªŒå†å²ï¼Œé¿å…é‡å¤é”™è¯¯

**æ ¸å¿ƒä»·å€¼**:
- å°æ­¥å¿«è·‘ï¼ŒæŒç»­æ”¹è¿›ï¼ˆæ¯æ¬¡åªæ”¹ä¸€ä¸ªå‚æ•°ï¼Œ5-10%è°ƒæ•´ï¼‰
- åŸºäºå†å²ç»éªŒå†³ç­–ï¼ˆMemory Agentæä¾›å†å²ä¸Šä¸‹æ–‡ï¼‰
- å¯¹æŠ—æœºåˆ¶ä¿è¯è´¨é‡ï¼ˆCoderå°è¯•æ”¹è¿›ï¼ŒJudgeéªŒè¯çœŸå®æ•ˆæœï¼‰
- é˜²æ­¢ç»„ç»‡å¤±å¿†ï¼ˆæ‰€æœ‰å®éªŒæ°¸ä¹…å­˜å‚¨ï¼‰

---

## Agentå›¢é˜Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Orchestrator                            â”‚
â”‚                      (ç¼–æ’å™¨ - åè°ƒä¸­å¿ƒ)                         â”‚
â”‚                                                                  â”‚
â”‚  èŒè´£: åè°ƒæ‰€æœ‰Agentäº¤äº’ï¼Œç®¡ç†ä¼˜åŒ–æµç¨‹                            â”‚
â”‚  çŠ¶æ€: current_phase, experiment_count, best_f1                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
        â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PM Agent    â”‚   â”‚ Memory Agent  â”‚   â”‚   Data Store  â”‚
â”‚ (éœ€æ±‚è§„åˆ’)     â”‚   â”‚  (çŸ¥è¯†åº“)      â”‚   â”‚  (JSONæ–‡ä»¶)    â”‚
â”‚               â”‚   â”‚               â”‚   â”‚               â”‚
â”‚ - åˆ†æmetrics â”‚   â”‚ - å­˜å‚¨å†å²     â”‚   â”‚ - experiments/ â”‚
â”‚ - ç”Ÿæˆæ–¹æ¡ˆ     â”‚   â”‚ - æ£€ç´¢æ¡ˆä¾‹     â”‚   â”‚ - failures/    â”‚
â”‚ - è¯„ä¼°é£é™©     â”‚   â”‚ - é¢„è­¦         â”‚   â”‚ - patterns/    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ (å®éªŒSpec)
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Coder Agent   â”‚
â”‚ (ä»£ç å®ç°)     â”‚
â”‚               â”‚
â”‚ - ä¿®æ”¹é˜ˆå€¼     â”‚
â”‚ - æ·»åŠ æ³¨é‡Š     â”‚
â”‚ - æäº¤ä»£ç      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ (ä»£ç å˜æ›´PR)
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Reviewer      â”‚
â”‚ Agent         â”‚
â”‚ (ä»£ç å®¡æŸ¥)     â”‚
â”‚               â”‚
â”‚ - æ¶æ„æ£€æŸ¥     â”‚
â”‚ - åˆè§„æ£€æŸ¥     â”‚
â”‚ - å®‰å…¨æ£€æŸ¥     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ (å¦‚æœAPPROVED)
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Judge Agent   â”‚
â”‚ (ç»“æœè¯„ä¼°)     â”‚
â”‚               â”‚
â”‚ - è¿è¡Œå›æµ‹     â”‚
â”‚ - å¯¹æ¯”æŒ‡æ ‡     â”‚
â”‚ - éªŒè¯æ•ˆæœ     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ (è¯„ä¼°ç»“æœ)
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Memory Agent  â”‚
â”‚ (å½’æ¡£ç»éªŒ)     â”‚
â”‚               â”‚
â”‚ - ä¿å­˜è®°å½•     â”‚
â”‚ - æå–æ¨¡å¼     â”‚
â”‚ - æ›´æ–°ç´¢å¼•     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ (å¼€å§‹ä¸‹ä¸€è½®)
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ–‡ä»¶ç»“æ„

```
src/meta/diagnoser/agents/
â”œâ”€â”€ __init__.py                    # Packageåˆå§‹åŒ–
â”œâ”€â”€ orchestrator.py                # ç¼–æ’å™¨ (å·²å®ç°)
â”œâ”€â”€ memory_agent.py                # Memory Agent (å·²å®ç°)
â”‚
â”œâ”€â”€ prompts/                       # ç³»ç»ŸPrompts
â”‚   â”œâ”€â”€ pm_system_prompt.txt       # PM Agent prompt (304è¡Œ)
â”‚   â”œâ”€â”€ coder_system_prompt.txt    # Coder Agent prompt (370è¡Œ)
â”‚   â”œâ”€â”€ reviewer_system_prompt.txt # Reviewer Agent prompt (410è¡Œ)
â”‚   â”œâ”€â”€ judge_system_prompt.txt    # Judge Agent prompt (497è¡Œ)
â”‚   â””â”€â”€ memory_system_prompt.txt   # Memory Agent prompt (489è¡Œ)
â”‚
â”œâ”€â”€ memory/                        # Memoryå­˜å‚¨
â”‚   â”œâ”€â”€ storage.py                 # å­˜å‚¨å®ç° (å·²å®ç°)
â”‚   â”œâ”€â”€ experiments/               # å®éªŒè®°å½•
â”‚   â”‚   â””â”€â”€ exp_*_*.json          # JSONæ ¼å¼å®éªŒæ•°æ®
â”‚   â”œâ”€â”€ failures/                  # å¤±è´¥æ¡ˆä¾‹
â”‚   â”‚   â””â”€â”€ fail_*_*.json
â”‚   â””â”€â”€ patterns/                  # æˆåŠŸæ¨¡å¼
â”‚       â””â”€â”€ pattern_*_*.json
â”‚
â”œâ”€â”€ tools/                         # å·¥å…·é›† (æœªæ¥å®ç°)
â”‚   â”œâ”€â”€ git_tools.py              # Gitæ“ä½œ
â”‚   â”œâ”€â”€ test_runner.py            # æµ‹è¯•è¿è¡Œ
â”‚   â””â”€â”€ code_analyzer.py          # ä»£ç åˆ†æ
â”‚
â””â”€â”€ AGENT_SYSTEM_UPDATE.md         # æ›´æ–°æ–‡æ¡£
```

**æ–‡ä»¶ç»Ÿè®¡**:
- Prompts: 5ä¸ªæ–‡ä»¶ï¼Œå…±2,070è¡Œ
- Pythonä»£ç : 3ä¸ªæ–‡ä»¶ï¼Œçº¦800è¡Œ
- æ–‡æ¡£: 1ä¸ªæ–‡ä»¶ï¼Œ500è¡Œ

---

## 5ä¸ªAgentè¯¦è§£

### 1. PM Agent (äº§å“ç»ç† - éœ€æ±‚è§„åˆ’è€…)

**èŒè´£**:
- åˆ†ædetectoræ€§èƒ½æŒ‡æ ‡ï¼ˆprecisionã€recallã€F1ï¼‰
- è¯†åˆ«ä¼˜åŒ–æœºä¼šï¼ˆrecallè¿‡ä½ï¼Ÿprecisionä¸è¶³ï¼Ÿï¼‰
- ç”Ÿæˆå®éªŒSpecï¼ˆåŒ…å«å‚æ•°ä¿®æ”¹ã€é¢„æœŸæ•ˆæœã€éªŒæ”¶æ ‡å‡†ï¼‰
- è¯„ä¼°é£é™©ï¼ˆå‰¯ä½œç”¨ã€å›æ»šç­–ç•¥ï¼‰

**è¾“å…¥**:
```json
{
  "detector": "FatigueDetector",
  "current_metrics": {"precision": 1.0, "recall": 0.541, "f1_score": 0.702},
  "target_metrics": {"f1_score": 0.75, "recall": 0.65},
  "historical_context": "è¿‡å»3æ¬¡ä¼˜åŒ–éƒ½é›†ä¸­åœ¨æé«˜recall"
}
```

**è¾“å‡º**:
```json
{
  "experiment_spec": {
    "title": "ä¼˜åŒ–FatigueDetectorçš„recall",
    "changes": [{
      "parameter": "cpa_increase_threshold",
      "from": 1.2,
      "to": 1.15
    }],
    "expected_outcome": {
      "recall": "+11%",
      "precision": ">=0.95",
      "f1_score": "+4%"
    },
    "acceptance_criteria": {
      "min_f1_improvement": 0.03,
      "min_precision": 0.90
    }
  }
}
```

**æ ¸å¿ƒçŸ¥è¯†**:
- 3ä¸ªdetectorçš„è¯¦ç»†æ¶æ„ï¼ˆLatencyDetectorã€FatigueDetectorã€DarkHoursDetectorï¼‰
- æ¯ä¸ªdetectorçš„å¯è°ƒå‚æ•°å’Œä¼˜åŒ–æ–¹å‘
- é˜ˆå€¼è°ƒæ•´æŒ‡å—ï¼ˆå†³ç­–é€»è¾‘ï¼‰
- è¯„ä¼°ä½“ç³»çŸ¥è¯†ï¼ˆæ»‘åŠ¨çª—å£ã€è¯„ä¼°è„šæœ¬ï¼‰

---

### 2. Coder Agent (ä»£ç å·¥ç¨‹å¸ˆ - å®ç°è€…)

**èŒè´£**:
- ä¿®æ”¹detectorçš„DEFAULT_THRESHOLDS
- æ·»åŠ æ¸…æ™°çš„æ³¨é‡Šè¯´æ˜ä¿®æ”¹åŸå› 
- ä¿æŒå‘åå…¼å®¹ï¼ˆå­—å…¸æ ¼å¼ä¸å˜ï¼‰
- ç”Ÿæˆè§„èŒƒçš„commit message

**è¾“å…¥**:
```json
{
  "experiment_spec": {
    "changes": [{
      "file": "src/meta/diagnoser/detectors/fatigue_detector.py",
      "parameter": "cpa_increase_threshold",
      "from": 1.2,
      "to": 1.15
    }]
  }
}
```

**è¾“å‡º**:
```json
{
  "implementation": {
    "files_changed": ["fatigue_detector.py"],
    "git_commit": {
      "branch": "feat/optimize-fatigue-recall-v2",
      "commit_message": "Optimize FatigueDetector: lower cpa_increase_threshold..."
    }
  }
}
```

**æ ¸å¿ƒèƒ½åŠ›**:
- çŸ¥é“å¦‚ä½•æ­£ç¡®ä¿®æ”¹DEFAULT_THRESHOLDS
- ç†è§£Diagnoserä»£ç æ¨¡å¼ï¼ˆconfigè¦†ç›–ã€é˜ˆå€¼éªŒè¯ï¼‰
- éµå¾ªPEP 8è§„èŒƒå’Œæ³¨é‡Šæ ‡å‡†
- å°æ­¥å¿«è·‘ï¼ˆdiff < 20è¡Œï¼‰

**ç¦æ­¢è¡Œä¸º**:
- âŒ æµ‹è¯•é›†ä½œå¼Šï¼ˆç¡¬ç¼–ç ad_idã€window_numï¼‰
- âŒ ä¿®æ”¹æ ¸å¿ƒæ£€æµ‹é€»è¾‘ï¼ˆrolling windowç®—æ³•ï¼‰
- âŒ ç ´åDEFAULT_THRESHOLDSç»“æ„

---

### 3. Reviewer Agent (ä»£ç å®¡æŸ¥ - è´¨é‡å®ˆé—¨å‘˜)

**èŒè´£**:
- æ£€æµ‹lookahead biasï¼ˆæœ€ä¸¥é‡é£é™©ï¼‰
- æ£€æµ‹ç¡¬ç¼–ç ä½œå¼Š
- éªŒè¯DEFAULT_THRESHOLDSå®Œæ•´æ€§
- è¯„ä¼°ä»£ç è´¨é‡

**è¾“å…¥**:
```json
{
  "implementation": {...},
  "code_diff": "å®Œæ•´çš„git diff",
  "experiment_spec": {...}
}
```

**è¾“å‡º**:
```json
{
  "review_result": {
    "decision": "APPROVED" | "REJECTED",
    "overall_score": 85,
    "checks": {
      "architecture": {"status": "PASS", "score": 90},
      "compliance": {"status": "PASS", "score": 100},
      "logic_safety": {"status": "PASS", "score": 85},
      "code_quality": {"status": "PASS", "score": 85}
    }
  }
}
```

**å®¡æŸ¥æ ‡å‡†**:
| ç»´åº¦ | æƒé‡ | PASSæ ‡å‡† |
|------|------|----------|
| æ¶æ„ä¸€è‡´æ€§ | 25% | ä¿æŒä¸å˜ |
| åˆè§„æ€§ | 30% | é›¶å®¹å¿ |
| é€»è¾‘å®‰å…¨ | 25% | æ— critical |
| ä»£ç è´¨é‡ | 20% | >=70åˆ† |

**å…³é”®é£é™©**:
1. **Lookahead Bias**: `data.iloc[i:i+N]` ï¼ˆä½¿ç”¨æœªæ¥æ•°æ®ï¼‰
2. **ç¡¬ç¼–ç **: `if ad_id == "123"` ï¼ˆé’ˆå¯¹æµ‹è¯•é›†ä½œå¼Šï¼‰
3. **ç ´åç»“æ„**: åˆ é™¤DEFAULT_THRESHOLDSçš„å…¶ä»–é”®

---

### 4. Judge Agent (è¯„ä¼°è£åˆ¤ - å®¢è§‚ç°å®)

**èŒè´£**:
- è¿è¡ŒçœŸå®è¯„ä¼°è„šæœ¬ï¼ˆevaluate_fatigue.pyç­‰ï¼‰
- å¯¹æ¯”baselineå’Œnew metrics
- æ£€æµ‹å‰¯ä½œç”¨ï¼ˆprecisionä¸‹é™ã€FPæ¿€å¢ï¼‰
- æ£€æµ‹ä½œå¼Šï¼ˆå¼‚å¸¸æŒ‡æ ‡ï¼‰

**è¾“å…¥**:
```json
{
  "pr": {...},
  "experiment_spec": {...},
  "detector_class": "FatigueDetector",
  "baseline_report_path": "reports/moprobo_sliding/fatigue_sliding_10windows.json"
}
```

**è¾“å‡º**:
```json
{
  "evaluation_result": {
    "decision": "PASS" | "FAIL",
    "metrics": {
      "baseline": {"precision": 1.0, "recall": 0.541, "f1_score": 0.702},
      "new": {"precision": 0.97, "recall": 0.595, "f1_score": 0.735},
      "lift": {"precision": "-3%", "recall": "+10%", "f1_score": "+5%"}
    },
    "regression_check": {
      "status": "PASS",
      "regressions": []
    }
  }
}
```

**è¯„ä¼°è„šæœ¬æ˜ å°„**:
```python
script_map = {
    "FatigueDetector": "scripts/evaluate_fatigue.py",
    "LatencyDetector": "scripts/evaluate_latency.py",
    "DarkHoursDetector": "scripts/evaluate_dark_hours.py"
}
```

**PASSæ¡ä»¶**:
1. F1-Scoreæå‡ >= 3%
2. Precision >= 85%ï¼ˆæˆ–acceptance_criteriaæŒ‡å®šå€¼ï¼‰
3. æ— CRITICAL regression
4. è‡³å°‘ä¸€ä¸ªæŒ‡æ ‡æ”¹å–„

**FAILæ¡ä»¶**:
1. F1ä¸‹é™
2. Precision < 70%ï¼ˆå´©å¡Œï¼‰
3. æœ‰CRITICAL regression
4. æ£€æµ‹åˆ°ä½œå¼Šè¯æ®

---

### 5. Memory Agent (çŸ¥è¯†åº“ - ç»éªŒè®°å¿†)

**èŒè´£**:
- å­˜å‚¨å®Œæ•´å®éªŒè®°å½•ï¼ˆä»specåˆ°evaluationï¼‰
- æ™ºèƒ½æ£€ç´¢ç›¸å…³å†å²ï¼ˆç±»ä¼¼å®éªŒã€å¤±è´¥æ¡ˆä¾‹ã€æˆåŠŸæ¨¡å¼ï¼‰
- é¢„è­¦é‡å¤å¤±è´¥ã€è¿‡æ‹Ÿåˆã€æ€§èƒ½ä¸‹é™
- å‚æ•°å½±å“åˆ†æå’Œä¼˜åŒ–è·¯å¾„æ¨è

**æŸ¥è¯¢æ¥å£**:
```python
# æŸ¥è¯¢ç±»ä¼¼å®éªŒ
memory.query(
    query_type="SIMILAR_EXPERIMENTS",
    detector="FatigueDetector",
    context={"tags": ["threshold_tuning", "recall_optimization"]}
)

# æŸ¥è¯¢å¤±è´¥æ¡ˆä¾‹
memory.query(
    query_type="FAILURE_PATTERNS",
    detector="FatigueDetector",
    context={"approach": "å¤§å¹…é™ä½æ‰€æœ‰é˜ˆå€¼"}
)

# æŸ¥è¯¢æˆåŠŸæ¨¡å¼
memory.query(
    query_type="SUCCESS_PATTERNS",
    detector="FatigueDetector",
    context={}
)
```

**å­˜å‚¨ç»“æ„**:
```json
{
  "experiment_id": "exp_fatigue_v2_20250203",
  "timestamp": "2025-02-03T10:00:00Z",
  "detector": "FatigueDetector",
  "spec": {...},
  "implementation": {...},
  "review": {...},
  "evaluation": {...},
  "outcome": "SUCCESS",
  "lessons_learned": [...],
  "tags": ["fatigue", "threshold_tuning", "successful"]
}
```

**é¢„è­¦æœºåˆ¶**:
- `REPEATED_FAILURE`: è¿‡å»2æ¬¡ä»¥ä¸Šç±»ä¼¼çš„ä¼˜åŒ–å¤±è´¥
- `OVERFITTING_RISK`: è¿ç»­10æ¬¡æˆåŠŸä½†æå‡å¹…åº¦é€’å‡
- `PERFORMANCE_DECLINE`: æœ€è¿‘5æ¬¡å®éªŒF1å‘ˆä¸‹é™è¶‹åŠ¿

---

## å®Œæ•´å·¥ä½œæµç¨‹

### å•æ¬¡ä¼˜åŒ–å¾ªç¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1: PM Agent åˆ†æ                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¾“å…¥: å½“å‰metrics (F1=0.702, Recall=0.541)                      â”‚
â”‚ åŠ¨ä½œ: æŸ¥è¯¢Memoryè·å–å†å²ç»éªŒ                                    â”‚
â”‚ åŠ¨ä½œ: è¯†åˆ«Recallè¿‡ä½é—®é¢˜                                       â”‚
â”‚ åŠ¨ä½œ: ç”Ÿæˆå®éªŒSpec (é™ä½cpa_threshold: 1.2â†’1.15)               â”‚
â”‚ è¾“å‡º: experiment_spec                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 2: Memory Agent æä¾›ä¸Šä¸‹æ–‡                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æŸ¥è¯¢: ç±»ä¼¼detectorçš„ä¼˜åŒ–å†å²                                    â”‚
â”‚ è¿”å›: è¿‡å»3æ¬¡é™ä½cpa_thresholdçš„æˆåŠŸæ¡ˆä¾‹                        â”‚
â”‚ è­¦å‘Š: æ— é‡å¤å¤±è´¥ã€æ— è¿‡æ‹Ÿåˆé£é™©                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 3: Coder Agent å®æ–½                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åŠ¨ä½œ: ä¿®æ”¹fatigue_detector.py                                  â”‚
â”‚ åŠ¨ä½œ: æ›´æ–°DEFAULT_THRESHOLDS["cpa_increase_threshold"] = 1.15  â”‚
â”‚ åŠ¨ä½œ: æ·»åŠ æ³¨é‡Š # Optimized: 1.2 â†’ 1.15                        â”‚
â”‚ åŠ¨ä½œ: æäº¤git commit                                          â”‚
â”‚ è¾“å‡º: implementation (files_changed, git_commit)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 4: Reviewer Agent å®¡æŸ¥                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ£€æŸ¥: æ¶æ„ä¸€è‡´æ€§ âœ“                                              â”‚
â”‚ æ£€æŸ¥: åˆè§„æ€§ (æ— ç¡¬ç¼–ç ) âœ“                                       â”‚
â”‚ æ£€æŸ¥: é€»è¾‘å®‰å…¨ (æ— lookahead bias) âœ“                            â”‚
â”‚ æ£€æŸ¥: ä»£ç è´¨é‡ (85åˆ†) âœ“                                        â”‚
â”‚ å†³ç­–: APPROVED                                                 â”‚
â”‚ è¾“å‡º: review_result (decision=APPROVED, score=85)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 5: Judge Agent è¯„ä¼°                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åŠ¨ä½œ: è¿è¡Œ python3 scripts/evaluate_fatigue.py                 â”‚
â”‚ åŠ¨ä½œ: è¯»å–æ–°æŠ¥å‘Š fatigue_sliding_10windows.json                â”‚
â”‚ åŠ¨ä½œ: å¯¹æ¯”baselineå’Œæ–°metrics                                  â”‚
â”‚ ç»“æœ: F1: 0.702â†’0.735 (+5%), Recall: +10%, Precision: -3%    â”‚
â”‚ æ£€æŸ¥: æ— CRITICAL regression                                     â”‚
â”‚ å†³ç­–: PASS                                                     â”‚
â”‚ è¾“å‡º: evaluation_result (decision=PASS, lift=+5%)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 6: Memory Agent å½’æ¡£                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åŠ¨ä½œ: ä¿å­˜å®Œæ•´å®éªŒè®°å½•åˆ°experiments/                           â”‚
â”‚ åŠ¨ä½œ: æå–æˆåŠŸæ¨¡å¼åˆ°patterns/                                  â”‚
â”‚ åŠ¨ä½œ: æ›´æ–°å‚æ•°å½±å“ç»Ÿè®¡                                         â”‚
â”‚ è¾“å‡º: experiment_id = "exp_fatigue_v2_20250203"                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ ä¸‹ä¸€è½®è¿­ä»£å¼€å§‹   â”‚
                    â”‚ (å¦‚æœæœ‰å‰©ä½™é¢„ç®—)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ•°æ®æµ

```
å¤–éƒ¨è¾“å…¥ (ç”¨æˆ·/ç³»ç»Ÿ)
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å½“å‰metrics â”‚  ä»è¯„ä¼°æŠ¥å‘Šè¯»å–
â”‚ F1=0.702    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼ PM Agentåˆ†æ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å®éªŒSpec    â”‚  åŒ…å«å‚æ•°ä¿®æ”¹ã€é¢„æœŸæ•ˆæœã€éªŒæ”¶æ ‡å‡†
â”‚ changes[]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä»£ç å˜æ›´    â”‚  â”‚ Memoryä¸Šä¸‹æ–‡ â”‚
â”‚ DEFAULT_... â”‚  â”‚ å†å²ç»éªŒ     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼ Reviewerå®¡æŸ¥
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å®¡æŸ¥ç»“æœ    â”‚  APPROVED / REJECTED
â”‚ score=85   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚ (if APPROVED)
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¿è¡Œè¯„ä¼°    â”‚  python3 scripts/evaluate_fatigue.py
â”‚ æ–°metrics   â”‚  F1=0.735, Recall=0.595
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼ Judgeè¯„ä¼°
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¯¹æ¯”ç»“æœ    â”‚  lift: F1+5%, Recall+10%, Precision-3%
â”‚ PASS/FAIL   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚
      â–¼ Memoryå½’æ¡£
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å®éªŒè®°å½•    â”‚  exp_fatigue_v2_20250203.json
â”‚ JSONæ–‡ä»¶    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸Diagnoseré›†æˆ

### Detectorå±‚é¢

```python
# Diagnoser Detector (Before)
class FatigueDetector(BaseDetector):
    DEFAULT_THRESHOLDS = {
        "cpa_increase_threshold": 1.2,  # æ‰‹åŠ¨è°ƒæ•´
        "consecutive_days": 1,
        ...
    }

# After Agent Optimization
class FatigueDetector(BaseDetector):
    DEFAULT_THRESHOLDS = {
        "cpa_increase_threshold": 1.15,  # Agentä¼˜åŒ–
        "consecutive_days": 1,
        ...
    }
```

### è¯„ä¼°å±‚é¢

```
Diagnoserè¯„ä¼°ç³»ç»Ÿ
â”œâ”€â”€ scripts/evaluate_fatigue.py       (è¯„ä¼°è„šæœ¬)
â”œâ”€â”€ judge/backtest.py                 (å›æµ‹å¼•æ“)
â””â”€â”€ judge/reports/moprobo_sliding/    (æŠ¥å‘Šç›®å½•)
    â”œâ”€â”€ fatigue_sliding_10windows.json (baseline)
    â””â”€â”€ fatigue_sliding_10windows.json (after optimization)
```

### æ•°æ®å±‚é¢

```
Diagnoseræ•°æ®é›†
â””â”€â”€ datasets/moprobo/meta/raw/        (moproboå¹¿å‘Šæ•°æ®)
    â””â”€â”€ insights_60596.csv             (60,596è¡Œæ•°æ®)
        â”œâ”€â”€ 30-day sliding windows    (10ä¸ªçª—å£)
        â””â”€â”€ per-ad_id evaluation      (å®ä½“çº§è¯„ä¼°)
```

---

## å…³é”®è®¾è®¡å†³ç­–

### 1. å°æ­¥å¿«è·‘åŸåˆ™
- **æ¯æ¬¡åªä¿®æ”¹ä¸€ä¸ªå‚æ•°**
- **è°ƒæ•´å¹…åº¦5-10%**
- **ä»£ç diff < 20è¡Œ**

**åŸå› **:
- å¯è¿½æº¯æ•ˆæœï¼ˆçŸ¥é“å“ªä¸ªå‚æ•°æœ‰æ•ˆï¼‰
- æ˜“å›æ»šï¼ˆå•ä¸€commitï¼‰
- é™ä½é£é™©ï¼ˆå°æ”¹åŠ¨å½±å“å°ï¼‰

### 2. å¯¹æŠ—æœºåˆ¶
- **Coder**: å°è¯•æ”¹è¿›æŒ‡æ ‡
- **Judge**: éªŒè¯çœŸå®æ•ˆæœï¼ˆè¿è¡Œå›æµ‹ï¼‰
- **Reviewer**: ä¸­ç«‹å®¡æŸ¥ï¼ˆé˜²æ­¢ä½œå¼Šï¼‰

**åŸå› **:
- é˜²æ­¢å¹»è§‰ï¼ˆCoderä»¥ä¸ºæ”¹è¿›ï¼Œå®é™…æœªæ”¹è¿›ï¼‰
- å‡»ç¢ä½œå¼Šï¼ˆRevieweræ£€æµ‹ç¡¬ç¼–ç ã€lookahead biasï¼‰
- çœŸå®éªŒè¯ï¼ˆJudgeè¿è¡ŒçœŸå®è¯„ä¼°è„šæœ¬ï¼‰

### 3. Memoryé©±åŠ¨
- **æŸ¥è¯¢å†å²**: PMåœ¨ç”ŸæˆSpecå‰æŸ¥è¯¢Memory
- **é¿å…é‡å¤**: Memoryé¢„è­¦é‡å¤å¤±è´¥
- **æå–æ¨¡å¼**: è‡ªåŠ¨è¯†åˆ«æˆåŠŸæ¨¡å¼

**åŸå› **:
- é˜²æ­¢ç»„ç»‡å¤±å¿†
- åŠ é€Ÿå­¦ä¹ ï¼ˆä»å†å²ç»éªŒï¼‰
- é¿å…é‡å¤é”™è¯¯

### 4. JSONå­˜å‚¨
- **ç®€å•å¯é **: ä¸éœ€è¦æ•°æ®åº“
- **äººç±»å¯è¯»**: ä¾¿äºè°ƒè¯•
- **ç‰ˆæœ¬æ§åˆ¶**: å¯ç”¨gitç®¡ç†

**åŸå› **:
- å¿«é€ŸåŸå‹
- æ˜“æ‰©å±•
- ä½æˆæœ¬

---

## å½“å‰å®ç°çŠ¶æ€

### âœ… å·²å®Œæˆ (v0.1.0)

| ç»„ä»¶ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| PM Agent Prompt | âœ… å®Œæˆ | 304è¡Œï¼Œå®Œæ•´diagnoserçŸ¥è¯† |
| Coder Agent Prompt | âœ… å®Œæˆ | 370è¡Œï¼Œä»£ç ä¿®æ”¹è§„èŒƒ |
| Reviewer Agent Prompt | âœ… å®Œæˆ | 410è¡Œï¼Œé£é™©æ£€æŸ¥æ¸…å• |
| Judge Agent Prompt | âœ… å®Œæˆ | 497è¡Œï¼Œè¯„ä¼°æµç¨‹è¯¦è§£ |
| Memory Agent Prompt | âœ… å®Œæˆ | 489è¡Œï¼Œæ£€ç´¢å’Œé¢„è­¦ |
| Memory Storage | âœ… å®Œæˆ | JSONå­˜å‚¨ç³»ç»Ÿ |
| Memory Agent | âœ… å®Œæˆ | æŸ¥è¯¢ã€å­˜å‚¨ã€é¢„è­¦ |
| Orchestrator | âœ… å®Œæˆ | ç®€åŒ–ç‰ˆï¼ˆæ¨¡æ‹Ÿagentsï¼‰ |
| Demo Script | âœ… å®Œæˆ | ç«¯åˆ°ç«¯æ¼”ç¤º |

### ğŸš§ è¿›è¡Œä¸­

| ç»„ä»¶ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| çœŸå®LLMé›†æˆ | ğŸš§ è®¡åˆ’ä¸­ | ä½¿ç”¨Anthropic API |
| çœŸå®ä»£ç ä¿®æ”¹ | ğŸš§ è®¡åˆ’ä¸­ | ä½¿ç”¨Editå·¥å…· |
| Gitæ“ä½œ | ğŸš§ è®¡åˆ’ä¸­ | commitã€rollback |
| å®Œæ•´è¯„ä¼°é›†æˆ | ğŸš§ è®¡åˆ’ä¸­ | subprocessè°ƒç”¨ |

### ğŸ“… æœªæ¥è®¡åˆ’

| é˜¶æ®µ | æ—¶é—´ | å†…å®¹ |
|------|------|------|
| Phase 1 | Week 1-2 | LLMé›†æˆã€çœŸå®ä»£ç ä¿®æ”¹ |
| Phase 2 | Week 3-4 | Gitæ“ä½œã€å®Œæ•´è¯„ä¼° |
| Phase 3 | Month 2 | 7x24è¿è¡Œã€å¤šdetectorååŒ |
| Phase 4 | Month 3+ | åœ¨çº¿å­¦ä¹ ã€ç”Ÿäº§éƒ¨ç½² |

---

## æ‰©å±•æ€§è®¾è®¡

### æ·»åŠ æ–°Detector

```python
# 1. åœ¨PM Agent Promptæ·»åŠ æ–°detectorçŸ¥è¯†
# 2. åœ¨Coder Agent Promptæ·»åŠ æ–°detectorä¿®æ”¹ç¤ºä¾‹
# 3. åœ¨Judge Agentæ·»åŠ æ–°detectorè¯„ä¼°è„šæœ¬æ˜ å°„
script_map = {
    "NewDetector": "scripts/evaluate_new_detector.py"
}
```

### æ·»åŠ æ–°Agentç±»å‹

```python
# ä¾‹å¦‚: Security Agentï¼ˆå®‰å…¨æ£€æŸ¥ï¼‰
# 1. åˆ›å»º prompts/security_system_prompt.txt
# 2. åœ¨Orchestratorä¸­é›†æˆ
# 3. æ·»åŠ åˆ°workflow
```

### æ·»åŠ æ–°Memoryç±»å‹

```python
# ä¾‹å¦‚: Vector Databaseï¼ˆè¯­ä¹‰æœç´¢ï¼‰
# 1. å®ç°memory/vector_db.py
# 2. æ·»åŠ å‘é‡æ£€ç´¢é€»è¾‘
# 3. å‡çº§queryæ¥å£
```

---

## æ€§èƒ½è€ƒè™‘

### å•æ¬¡ä¼˜åŒ–å¾ªç¯æ—¶é—´

| é˜¶æ®µ | é¢„è®¡æ—¶é—´ | è¯´æ˜ |
|------|----------|------|
| PMåˆ†æ | 10-30ç§’ | LLMè°ƒç”¨ï¼ˆæœªæ¥ï¼‰ |
| MemoryæŸ¥è¯¢ | <1ç§’ | JSONæ£€ç´¢ |
| ä»£ç ä¿®æ”¹ | 5-10ç§’ | Editå·¥å…· |
| Reviewerå®¡æŸ¥ | 10-30ç§’ | LLMè°ƒç”¨ï¼ˆæœªæ¥ï¼‰ |
| Judgeè¯„ä¼° | 60-120ç§’ | è¿è¡Œè¯„ä¼°è„šæœ¬ |
| Memoryå½’æ¡£ | <1ç§’ | JSONå­˜å‚¨ |
| **æ€»è®¡** | **~2-3åˆ†é’Ÿ** | å•æ¬¡å¾ªç¯ |

### å¹¶è¡Œä¼˜åŒ–

```
å¯ä»¥åŒæ—¶ä¼˜åŒ–3ä¸ªdetectorï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FatigueDetector â”‚  â”‚ LatencyDetector â”‚  â”‚ DarkHoursDetectorâ”‚
â”‚ ä¼˜åŒ–å¾ªç¯         â”‚  â”‚ ä¼˜åŒ–å¾ªç¯         â”‚  â”‚ ä¼˜åŒ–å¾ªç¯         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Memoryè§„æ¨¡

- å•æ¬¡å®éªŒ: ~3-5 KB (JSON)
- 1000æ¬¡å®éªŒ: ~3-5 MB
- 10000æ¬¡å®éªŒ: ~30-50 MB

**ç»“è®º**: JSONå­˜å‚¨åœ¨å¯æ¥å—èŒƒå›´å†…

---

## å®‰å…¨ä¸åˆè§„

### æ•°æ®å®‰å…¨
- âœ… æ— æ•æ„Ÿæ•°æ®å­˜å‚¨
- âœ… å®éªŒè®°å½•å¯å…¬å¼€
- âœ… å¯ç”¨gitç‰ˆæœ¬æ§åˆ¶

### ä»£ç å®‰å…¨
- âœ… Revieweræ£€æµ‹ç¡¬ç¼–ç 
- âœ… Judgeæ£€æµ‹ä½œå¼Š
- âœ… æ‰€æœ‰å˜æ›´å¯è¿½æº¯

### è¿è¡Œå®‰å…¨
- âœ… å°æ­¥å¿«è·‘ï¼ˆä½é£é™©ï¼‰
- âœ… æ˜“å›æ»šï¼ˆå•ä¸€commitï¼‰
- âœ… äººå·¥å®¡æ ¸ï¼ˆå¯é€‰ï¼‰

---

## æ€»ç»“

Diagnoser AI Agent Teamæ˜¯ä¸€ä¸ª**è®¾è®¡å®Œæ•´ã€é€æ­¥å®ç°**çš„è‡ªåŠ¨åŒ–ä¼˜åŒ–ç³»ç»Ÿï¼š

**æ ¸å¿ƒä¼˜åŠ¿**:
1. **ä¸“ä¸šçŸ¥è¯†æ·±åº¦**: æ¯ä¸ªAgentéƒ½æ·±åº¦ç†è§£Diagnoseræ¶æ„
2. **å¯¹æŠ—æœºåˆ¶**: Coder vs Judgeï¼Œç¡®ä¿çœŸå®æ•ˆæœ
3. **å†å²é©±åŠ¨**: Memory Agenté¿å…é‡å¤é”™è¯¯
4. **æ¸è¿›å¼å®ç°**: ä»ç®€åŒ–ç‰ˆåˆ°å®Œæ•´ç‰ˆ

**å½“å‰çŠ¶æ€**: v0.1.0 - Promptså®Œæˆï¼ŒåŸºç¡€ä»£ç å®ç°
**ä¸‹ä¸€é˜¶æ®µ**: LLMé›†æˆã€çœŸå®è¯„ä¼°ã€Gitæ“ä½œ

**æœ€ç»ˆç›®æ ‡**: 7x24å°æ—¶è‡ªåŠ¨ä¼˜åŒ–detectorï¼ŒæŒç»­æ”¹è¿›æ€§èƒ½
